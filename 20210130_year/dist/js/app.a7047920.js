(function(t){function e(e){for(var s,o,r=e[0],c=e[1],h=e[2],l=0,p=[];l<r.length;l++)o=r[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,h||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,r=1;r<i.length;r++){var c=i[r];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},n={app:0},a=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var h=0;h<r.length;h++)e(r[h]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"275a":function(t,e,i){"use strict";i("e741")},"2ffd":function(t,e,i){},"31ef":function(t,e,i){},"350b":function(t,e,i){},"38cf":function(t,e,i){},"3da7":function(t,e,i){i("cb29"),i("a15b"),i("a434"),i("b0c0"),i("b680"),i("d3b7"),i("ac1f"),i("25f0"),i("1276");var s,n,a,o=i("6374");function r(t,e,i,s,n,a,o,r,c,h){}function c(t,e){this.x=t||0,this.y=e||0}function h(t,e,i,s,n){this.name="Firework",this.pos=new c(t,e),this.vel=new c(0,-W(0,30)),this.acc=new c(0,0),this.angle=W(0,360),this.speed=W(150,300),this.accSp=new c(0,-B(5,10)),this.friction=1,this.hue=n,this.saturation=100,this.lightness=B(50,80),this.alpha=W(40,100)/100,this.tail=[new c(t,e),new c(t,e),new c(t,e)],this.radius=2,this.showTarget=!1,this.target=new c(i,s),this.targetRadius=5,this.CollisionRadius=5,this.IsDead=!1,this.flag=0,this.vel=this.target.clone().subtract(this.pos).norm().multiplyScalar(this.speed)}function u(){var t=W(.1*n,.9*n),e=a,i=t,s=W(.1*a,3*a/4);P.push(new h(t,e,i,s,W(0,360)))}function l(t,e,i,s){this.name="Particle",this.pos=new c(t,e),this.vel=new c(1,0),this.acc=new c(0,0),this.angle=W(0,360),this.minSp=150,this.maxSp=(0|s)<this.minSp?this.minSp:s,this.speed=W(10,this.maxSp),this.vel.setAngleDeg(this.angle),this.vel.setLength(this.speed),this.hue=i+B(-10,10),this.saturation=100,this.lightness=B(50,80),this.alpha=W(40,100)/100,this.decay=W(10,50)/1e3,this.flickerDensity=10,this.wind=W(-12,12),this.friction=.99,this.radius=B(1,3),this.tail=[new c(t,e),new c(t,e),new c(t,e)],this.IsDead=!1}function p(t,e,i,s){var n=B(0,.9*s);while(s--)A.push(new l(t,e,i,n))}function d(t,e,i,s,n){t.beginPath(),t.arc(e,i,s,0,2*Math.PI),t.fillStyle=n,t.fill()}function b(t,e,i,s,n){t.lineWidth=s,t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.closePath(),t.strokeStyle=n,t.stroke()}function f(t,e,i,s){var n=new c(i.x-t.x,i.y-t.y);return n.lengthSq()<=Math.pow(e+s,2)}c.fromArray=function(t){return new Victor(t[0]||0,t[1]||0)},c.fromObject=function(t){return new c(t.x||0,t.y||0)},c.prototype.clone=function(){return new c(this.x,this.y)},c.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},c.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},c.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},c.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},c.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},c.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},c.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},c.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},c.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},c.prototype.dot=function(t){return this.x*t.x+this.y*t.y},c.prototype.cross=function(t){return this.x*t.y-this.y*t.x},c.prototype.projectOnto=function(t){var e=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=e*t.x,this.y=e*t.y,this},c.prototype.projectLengthOnto=function(t){var e=this.dot(t),i=t.length();return e/i},c.prototype.setAngle=function(t){var e=this.length();this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},c.prototype.setAngleDeg=function(t){var e=this.length();t=this.deg2rad(t),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},c.prototype.getAngle=function(){return Math.atan2(this.y,this.x)},c.prototype.getAngleDeg=function(){return this.rad2deg(this.getAngle())},c.prototype.rotate=function(t){var e=this.x*Math.cos(t)-this.y*Math.sin(t),i=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=e,this.y=i,this},c.prototype.rotateDeg=function(t){t=this.deg2rad(t),this.rotate(t)},c.prototype.rotateTo=function(t){this.rotate(t-this.getAngle())},c.prototype.rotateToDeg=function(t){t=this.deg2rad(t),this.rotateTo(t)},c.prototype.rotateRefPoint=function(t,e){var i=(this.x-e.x)*Math.cos(t)-(this.y-e.y)*Math.sin(t)+e.x,s=(this.y-e.y)*Math.cos(t)+(this.x-e.x)*Math.sin(t)+e.y;this.x=i,this.y=s},c.prototype.rotateRefPointDeg=function(t,e){t=this.deg2rad(t),this.rotateRefPoint(t,e)},c.prototype.rotateToRefPoint=function(t,e){var i=t-Math.atan2(this.y-e.y,this.x-e.x),s=(this.x-e.x)*Math.cos(i)-(this.y-e.y)*Math.sin(i)+e.x,n=(this.y-e.y)*Math.cos(i)+(this.x-e.x)*Math.sin(i)+e.y;this.x=s,this.y=n},c.prototype.rotateToRefPointDeg=function(t,e){t=this.deg2rad(t),this.rotateToRefPoint(t,e)},c.prototype.setLength=function(t){var e=this.getAngle();this.x=Math.cos(e)*t,this.y=Math.sin(e)*t},c.prototype.length=function(){return Math.sqrt(this.lengthSq())},c.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},c.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divideScalar(t),this},c.prototype.norm=c.prototype.normalize,c.prototype.normalL=function(){return new c(-this.y,this.x)},c.prototype.normalR=function(){return new c(this.y,-this.x)},c.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},c.prototype.toFixed=function(t){return"undefined"===typeof t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},c.prototype.rad2deg=function(t){return 180*t/Math.PI},c.prototype.deg2rad=function(t){return t*Math.PI/180},h.prototype.applyForce=function(t){this.acc.add(t)},h.prototype.update=function(t){this.tail.pop(),this.tail.unshift(this.pos.clone()),this.applyForce(this.accSp),this.vel.add(this.acc),this.vel.multiplyScalar(this.friction),this.pos.add(this.vel.clone().multiplyScalar(t)),this.acc.multiplyScalar(0),this.CheckLife()},h.prototype.render=function(t){t.save();var e="hsla("+this.hue+","+this.saturation+"%, "+this.lightness+"%, "+this.alpha+")";this.showTarget&&(t.beginPath(),t.arc(this.target.x,this.target.y,this.targetRadius,0,2*Math.PI),t.strokeStyle=e,t.stroke()),d(t,this.pos.x,this.pos.y,this.radius,e);var i=this.tail[B(0,this.tail.length-1)];b(t,i,this.pos,this.radius,e),t.restore()},h.prototype.CheckLife=function(){this.IsDead||(this.pos.y<0&&(this.IsDead=!0),(f(this.pos,this.CollisionRadius,this.target,this.CollisionRadius)||this.vel.y>0)&&(this.IsDead=!0,p(this.pos.x,this.pos.y,this.hue,B(100,500)),B(0,1e3)<200&&p(this.pos.x,this.pos.y,W(0,360),B(300,800))))},l.prototype.applyForce=function(t){this.acc.add(t)},l.prototype.update=function(t){this.IsDead||(this.tail.pop(),this.tail.unshift(this.pos.clone()),this.vel.add(this.acc),this.vel.multiplyScalar(this.friction),this.pos.add(this.vel.clone().multiplyScalar(t)),this.acc.multiplyScalar(0),this.alpha-=this.decay,this.CheckLife())},l.prototype.render=function(t){t.save();var e="hsla("+this.hue+","+this.saturation+"%, "+this.lightness+"%, "+this.alpha+")",i=this.tail[B(0,this.tail.length-1)];if(b(t,i,this.pos,this.radius,e),this.flickerDensity>0){var s=50-this.flickerDensity;if(B(0,s)==s){var n=W(50,100)/100,a="hsla("+this.hue+","+this.saturation+"%, "+this.lightness+"%, "+n+")";d(t,this.pos.x,this.pos.y,.5*(this.radius+B(0,3)),a)}}t.restore()},l.prototype.CheckLife=function(){var t=this.alpha>0,e=this.pos.x-this.radius<0||this.pos.x+this.radius>n||this.pos.y-this.radius<0||this.pos.y+this.radius>a;this.IsDead=!t||e};var y=0,g=0,v=0,j=!0,O={},x={};function w(t){g=t-y,v=g/1e3,y=t,s.fillStyle="rgba(34,34,34,"+M+")",s.fillRect(0,0,n,a),D(v),L(s);var e="Fps: "+1e3/g,i="Timesub: "+g,o="DeltaTime: "+v;r(s,e+"\n"+i+"\n"+o,0,a-31,"rgba(255,255,255,0.3)",10,"consolas",0,0,0),j&&window.requestAnimationFrame(w)}window.onload=function(){};var S,m,T,M=.3,A=[],P=[],k=new c(0,3),U=new Image;function D(t){W(0,1e3)<80&&u();var e,i=o(A);try{for(i.s();!(e=i.n()).done;)particle=e.value,particle.applyForce(k),particle.update(t)}catch(c){i.e(c)}finally{i.f()}var s,n=o(P);try{for(n.s();!(s=n.n()).done;)firework=s.value,firework.update(t)}catch(c){n.e(c)}finally{n.f()}for(var a=A.length-1;a>=0;a--)A[a].IsDead&&A.splice(a,1);for(var r=P.length-1;r>=0;r--)P[r].IsDead&&P.splice(r,1)}function L(t){I(t);var e,i=o(A);try{for(i.s();!(e=i.n()).done;)particle=e.value,particle.render(t)}catch(a){i.e(a)}finally{i.f()}var s,n=o(P);try{for(n.s();!(s=n.n()).done;)firework=s.value,firework.render(t)}catch(a){n.e(a)}finally{n.f()}}function I(t){""!=U.src&&(S=n/U.width,m=U.height*S,T=6*(a-m)/7,t.drawImage(U,0,T,n,m),t.fillStyle="#000",t.fillRect(0,T+m,n,a-T));var e=a/20,i="Happy New Year !",s=new c(0,30*Math.sin((new Date).getTime()/1e3)),o=new c(n/2-i.length*e*.3+s.x,a/3+s.y);t.shadowColor="red",t.shadowBlur=15,r(t,i,o.x,o.y,"rgba(255,255,0,1)",e,"orbitron",0,0,0);var h="2018",u=new c(n/2-h.length*e*.3+s.x,a/3+e+s.y);r(t,h,u.x,u.y,"rgba(255,255,0,1)",e,"orbitron",0,0,0),t.shadowBlur=0,t.shadowColor=0}function C(t){O[t.keyCode]=!0}function F(t){delete O[t.keyCode]}function R(t){p(t.clientX,t.clientY,B(0,360),B(100,500)),B(0,1e3)<300&&p(t.clientX,t.clientY,B(0,360),B(300,800))}function _(t){}function q(t){x.x=t.clientX-s.canvas.offsetLeft,x.y=t.clientY-s.canvas.offsetTop}function E(){n=s.canvas.width=window.innerWidth,a=s.canvas.height=window.innerHeight}function B(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function W(t,e){return Math.random()*(e-t)+t}function H(t,e,i,s){var n=document.createElement("canvas"),a=["display: block;","margin: 0 auto;","background: #FFF;","padding: 0;","display: block;"];return n.id=t,n.width=0|e,n.height=0|i,s&&a.push("border:1px solid #000;"),e||i||(n.width=window.innerWidth,n.height=window.innerHeight),n.style.cssText=a.join(""),document.querySelector("#fireworks").appendChild(n),n.getContext("2d")}U.src="assets/skyline.png",window.main=function(){console.log("Start"),s=H("myCanvas"),n=s.canvas.width,a=s.canvas.height,document.addEventListener("keydown",C,!1),document.addEventListener("keyup",F,!1),document.addEventListener("mousedown",R,!1),document.addEventListener("mouseup",_,!1),document.addEventListener("mousemove",q,!1),window.addEventListener("resize",E),s.lineCap="round",s.lineJoin="round",window.requestAnimationFrame(w)}},"47ba":function(t,e,i){"use strict";i("e866")},"526e":function(t,e,i){},"572b":function(t,e,i){"use strict";i("31ef")},7515:function(t,e,i){"use strict";i("350b")},"7d23":function(t,e,i){"use strict";i("38cf")},"900f":function(t,e,i){"use strict";i("2ffd")},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("7a23"),n={style:{width:"100%",height:"100%"}},a={key:0,class:"button-box"};function o(t,e,i,o,r,c){var h=Object(s["p"])("Stage1"),u=Object(s["p"])("Loading");return Object(s["i"])(),Object(s["c"])("div",n,[Object(s["e"])(h),t.showButton?(Object(s["i"])(),Object(s["c"])("div",a,[Object(s["e"])("div",{class:"botton",onClick:e[1]||(e[1]=function(){return t.goNextRoute&&t.goNextRoute.apply(t,arguments)})},Object(s["q"])(t.btnTxt),1)])):Object(s["d"])("",!0),t.status&t.STATUSMAP.stage0?(Object(s["i"])(),Object(s["c"])(u,{key:1})):Object(s["d"])("",!0)])}i("cb29"),i("4160"),i("159b");var r=i("5530"),c=i("ade3"),h=Object(s["t"])("data-v-1b5caaf8");Object(s["l"])("data-v-1b5caaf8");var u={class:"loading-box"},l=Object(s["e"])("div",{class:"loadEffect"},[Object(s["e"])("span"),Object(s["e"])("span"),Object(s["e"])("span"),Object(s["e"])("span"),Object(s["e"])("span"),Object(s["e"])("span"),Object(s["e"])("span"),Object(s["e"])("span")],-1);Object(s["j"])();var p=h((function(t,e,i,n,a,o){return Object(s["i"])(),Object(s["c"])("div",u,[l])})),d=Object(s["f"])({});i("7515");d.render=p,d.__scopeId="data-v-1b5caaf8";var b=d,f=Object(s["t"])("data-v-a8ac56b6");Object(s["l"])("data-v-a8ac56b6");var y={id:"stage1"},g={class:"bulb-box"},v=Object(s["e"])("audio",{id:"song",controls:"",src:"assets/hbd.mp3",loop:""}," Your browser isn't invited for super fun audio time. ",-1);Object(s["j"])();var j=f((function(t,e,i,n,a,o){var r=Object(s["p"])("FireWorks"),c=Object(s["p"])("Ballon"),h=Object(s["p"])("Messages");return Object(s["i"])(),Object(s["c"])("div",y,[Object(s["e"])("div",{class:["bg",{"turn-on-light":t.status>=t.STATUSMAP.stage2}]},[t.status>=t.STATUSMAP.stage6?(Object(s["i"])(),Object(s["c"])(r,{key:0})):Object(s["d"])("",!0)],2),Object(s["e"])("div",g,[Object(s["e"])("div",{class:["bulb1",{"bulb1-frame":t.status&t.STATUSMAP.stage2,"bulb1-loop":t.status>=t.STATUSMAP.stage3}]},null,2),Object(s["e"])("div",{class:["bulb2",{"bulb2-frame":t.status&t.STATUSMAP.stage2,"bulb2-loop":t.status>=t.STATUSMAP.stage3}]},null,2),Object(s["e"])("div",{class:["bulb3",{"bulb3-frame":t.status&t.STATUSMAP.stage2,"bulb3-loop":t.status>=t.STATUSMAP.stage3}]},null,2),Object(s["e"])("div",{class:["bulb4",{"bulb4-frame":t.status&t.STATUSMAP.stage2,"bulb4-loop":t.status>=t.STATUSMAP.stage3}]},null,2),Object(s["e"])("div",{class:["bulb5",{"bulb5-frame":t.status&t.STATUSMAP.stage2,"bulb5-loop":t.status>=t.STATUSMAP.stage3}]},null,2),Object(s["e"])("div",{class:["bulb6",{"bulb6-frame":t.status&t.STATUSMAP.stage2,"bulb6-loop":t.status>=t.STATUSMAP.stage3}]},null,2)]),Object(s["e"])("div",{class:["happy-pic",{"happy-pic-frame":t.status>=t.STATUSMAP.stage4}]},null,2),Object(s["e"])("div",{class:["ballon-fly",{"ballon-fly-frame":t.status&t.STATUSMAP.stage5}]},null,2),t.status>=t.STATUSMAP.stage5?(Object(s["i"])(),Object(s["c"])(c,{key:0})):Object(s["d"])("",!0),t.status&t.STATUSMAP.stage7?(Object(s["i"])(),Object(s["c"])(h,{key:1})):Object(s["d"])("",!0),v])})),O=Object(s["t"])("data-v-288e37e2");Object(s["l"])("data-v-288e37e2");var x={class:"ballon-wrap"};Object(s["j"])();var w=O((function(t,e,i,n,a,o){return Object(s["i"])(),Object(s["c"])("div",x,[(Object(s["i"])(!0),Object(s["c"])(s["a"],null,Object(s["o"])(t.list,(function(t){return Object(s["i"])(),Object(s["c"])("div",{class:"item",style:t.style,key:t},[Object(s["e"])("img",{src:t.srcUrl,alt:""},null,8,["src"])],4)})),128))])}));i("d4ec"),i("bee2");var S=Object(s["f"])({setup:function(){var t=Object(s["m"])({list:[]}),e=Object(r["a"])({},Object(s["r"])(t));return e}});i("572b"),i("900f");S.render=w,S.__scopeId="data-v-288e37e2";var m=S,T={id:"fireworks"};function M(t,e,i,n,a,o){return Object(s["i"])(),Object(s["c"])("div",T)}i("3da7");var A=Object(s["f"])({setup:function(){Object(s["h"])((function(){main()}))}});i("275a");A.render=M;var P=A,k=Object(s["t"])("data-v-e318b6c2");Object(s["l"])("data-v-e318b6c2");var U={class:"message-box"},D=Object(s["e"])("div",{class:"box-bg"},null,-1);Object(s["j"])();var L=k((function(t,e,i,n,a,o){return Object(s["i"])(),Object(s["c"])("div",U,[D,Object(s["e"])("p",{innerHTML:t.currentMsg},null,8,["innerHTML"])])})),I=Object(s["f"])({setup:function(){var t=["很快啊，就又过年了","希望大小姐健健康康","快快乐乐","咩都翻晒来"],e=Object(s["m"])({currentMsg:t[0]});return Object(r["a"])({},Object(s["r"])(e))}});i("d858");I.render=L,I.__scopeId="data-v-e318b6c2";var C=I,F=Object(s["f"])({setup:function(){var t=Object(s["g"])("status"),e=Object(s["g"])("STATUSMAP"),i=Object(s["m"])({bgClass:[]});Object(s["s"])((function(){if(t.value>=e.stage3){var i=document.querySelector("#song");i&&i.play()}}));var n=Object(r["a"])(Object(r["a"])({},Object(s["r"])(i)),{},{status:t,STATUSMAP:e});return n},components:{Ballon:m,FireWorks:P,Messages:C}});i("7d23");F.render=j,F.__scopeId="data-v-a8ac56b6";var R=F,_=Object(s["f"])({setup:function(){var t,e={};new Array(20).fill(1).forEach((function(t,i){e["stage"+i]=1<<i}));var i=(t={},Object(c["a"])(t,e.stage0,{btn:"click me"}),Object(c["a"])(t,e.stage1,{btn:"Turn On Lights"}),Object(c["a"])(t,e.stage2,{btn:"Play Music"}),Object(c["a"])(t,e.stage3,{btn:"Let's Decorate"}),Object(c["a"])(t,e.stage4,{btn:"Fly With Balloons"}),Object(c["a"])(t,e.stage5,{btn:"放烟花"}),Object(c["a"])(t,e.stage6,{btn:"a message for u"}),Object(c["a"])(t,e.stage7,{btn:"next"}),t),n=Object(s["n"])(e.stage7),a=Object(s["m"])({showButton:!0,btnTxt:""});Object(s["s"])((function(){a.btnTxt=i[n.value].btn}));var o=function(){i[n.value<<1]&&(n.value=n.value<<1)};return Object(s["k"])("status",n),Object(s["k"])("STATUSMAP",e),Object(r["a"])(Object(r["a"])({},Object(s["r"])(a)),{},{status:n,goNextRoute:o,STATUSMAP:Object(r["a"])({},e)})},components:{Loading:b,Stage1:R}});i("47ba");_.render=o;var q=_;Object(s["b"])(q).mount("#app")},d858:function(t,e,i){"use strict";i("526e")},e741:function(t,e,i){},e866:function(t,e,i){}});
//# sourceMappingURL=app.a7047920.js.map